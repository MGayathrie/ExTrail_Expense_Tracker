<!-- src/app/components/budgets/budgets.html -->
<div class="p-8 space-y-6 bg-gray-50 min-h-screen">
  <!-- Header with Add Button -->
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Budgets</h1>
      <p class="text-gray-600 mt-1">Track your spending limits by category</p>
    </div>
    <button (click)="openAddModal()"
            class="flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all">
      <span class="text-xl font-bold">+</span>
      <span class="font-semibold">Add Budget</span>
    </button>
  </div>

<!-- src/app/components/budgets/budgets.html -->
<!-- Replace the Overall Summary Card section -->

<!-- Overall Summary Card - NEW DARKER COLOR -->
<div class="bg-gray-800 rounded-2xl shadow-lg p-8 text-white relative overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-5">
    <div class="absolute top-0 right-0 w-40 h-40 bg-white rounded-full -mr-20 -mt-20"></div>
    <div class="absolute bottom-0 left-0 w-32 h-32 bg-white rounded-full -ml-16 -mb-16"></div>
  </div>

  <div class="relative z-10">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h2 class="text-lg font-medium text-gray-300">Total Monthly Budget</h2>
        <p class="text-5xl font-bold mt-2">{{ totalBudget | currency:'USD':'symbol':'1.0-0' }}</p>
      </div>
      <div class="text-right">
        <p class="text-sm text-gray-300">Total Spent</p>
        <p class="text-4xl font-bold">{{ totalSpent | currency:'USD':'symbol':'1.0-0' }}</p>
      </div>
    </div>
    
    <!-- Overall Progress Bar -->
    <div class="mt-6">
      <div class="h-4 bg-gray-700 rounded-full overflow-hidden">
        <div class="h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full transition-all duration-500"
             [style.width.%]="overallPercentage"></div>
      </div>
      <div class="flex justify-between mt-3 text-sm text-gray-300">
        <span class="font-medium">{{ overallPercentage }}% of total budget</span>
        <span>{{ totalBudget - totalSpent | currency:'USD':'symbol':'1.0-0' }} remaining</span>
      </div>
    </div>
  </div>
</div>


  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex items-center justify-center h-64">
    <div class="text-center">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"></div>
      <p class="mt-4 text-gray-600">Loading budgets...</p>
    </div>
  </div>

  <!-- Budget Cards Grid -->
  <div *ngIf="!isLoading && budgets.length > 0" 
       class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <app-budget-card
      *ngFor="let budget of budgets"
      [budget]="budget"
      (edit)="openEditModal($event)"
      (delete)="onBudgetDeleted($event)">
    </app-budget-card>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && budgets.length === 0"
       class="bg-white rounded-2xl shadow-sm ring-1 ring-gray-100 p-12 text-center">
    <div class="text-6xl mb-4">ðŸ’°</div>
    <h3 class="text-xl font-semibold text-gray-900 mb-2">No Budgets Yet</h3>
    <p class="text-gray-600 mb-6">Create your first budget to start tracking your spending</p>
    <button (click)="openAddModal()"
            class="px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all">
      Create Budget
    </button>
  </div>

  <!-- Add/Edit Budget Modal -->
  <app-budget-form
    *ngIf="showAddModal"
    [userId]="userId"
    [budget]="editingBudget"
    [categories]="expenseCategories"
    (close)="closeModal()"
    (saved)="onBudgetSaved()">
  </app-budget-form>
</div>
