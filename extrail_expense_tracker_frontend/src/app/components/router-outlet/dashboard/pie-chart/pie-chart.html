<!-- src/app/components/dashboard/pie-chart/pie-chart.html -->
<div class="bg-white rounded-2xl shadow-sm ring-1 ring-gray-100 p-6 overflow-hidden">
  <h3 class="text-xl font-bold text-gray-800 mb-6">Spending by Category</h3>
  
  <div *ngIf="categoryData.length === 0" class="text-center text-gray-500 py-16">
    No expense data for this month
  </div>

  <div *ngIf="categoryData.length > 0" class="grid grid-cols-1 md:grid-cols-5 gap-6 items-center">
    <!-- Chart Container with Fixed Size -->
    <div class="col-span-1 md:col-span-2 flex justify-center items-center">
      <div class="relative w-full max-w-[280px] aspect-square">
        <canvas #pieCanvas></canvas>
      </div>
    </div>

    <!-- Legend -->
    <div class="col-span-1 md:col-span-3">
      <ul class="space-y-3">
        <li *ngFor="let cat of categoryData" class="flex items-center justify-between gap-4 py-2 hover:bg-gray-50 rounded-lg px-3 transition-colors">
          <div class="flex items-center gap-3 flex-1 min-w-0">
            <span class="h-4 w-4 rounded-sm flex-shrink-0" [style.background-color]="cat.color"></span>
            <span class="text-sm font-medium text-gray-700 truncate">{{ cat.category }}</span>
          </div>
          <div class="text-right flex-shrink-0">
            <p class="text-base font-bold text-gray-900">{{ formatCurrency(cat.amount) }}</p>
            <p class="text-xs text-gray-500">{{ getPercentage(cat.amount) }}</p>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
